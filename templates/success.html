{% extends "base.html" %}

{% block title %}Appointment Confirmed - MINORE BARBERSHOP{% endblock %}

{% block content %}
<div class="success-message">
    <div class="success-icon">‚úì</div>
    <h2>Appointment Confirmed!</h2>
    <p>Your appointment has been successfully booked.</p>
    <div id="email-confirmation" style="display: none;">
        <p>üìß A confirmation email with appointment details and cancellation link has been sent to your email address.</p>
        <p><strong>‚ö†Ô∏è Please check your SPAM/JUNK folder if you don't see the email in your inbox.</strong></p>
    </div>
    <div id="no-email-confirmation" style="display: none;">
        <p>üìù Your appointment has been confirmed! Since no email was provided, you won't receive email notifications.</p>
    </div>
    <p>We'll see you soon at MINORE BARBER!</p>
    
    <div class="next-steps">
        <h3>What's Next?</h3>
        <p id="email-steps" style="display: none;">‚Ä¢ Check your email (including spam folder) for appointment details</p>
        <p id="email-contacts" style="display: none;">‚Ä¢ Add our email to your contacts to avoid spam</p>
        <p id="email-cancel" style="display: none;">‚Ä¢ Save the cancellation link if you need to reschedule</p>
        <p id="no-email-steps" style="display: none;">‚Ä¢ Contact us directly if you need to cancel or reschedule</p>
        <p>‚Ä¢ Arrive 5 minutes early for your appointment</p>
    </div>
    
    <a href="/book" class="btn btn-secondary">Book Another</a>
</div>

<script>
// Show appropriate message based on whether email was provided
const urlParams = new URLSearchParams(window.location.search);
const hasEmail = urlParams.get('email') === 'true';

if (hasEmail) {
    document.getElementById('email-confirmation').style.display = 'block';
    document.getElementById('email-steps').style.display = 'block';
    document.getElementById('email-contacts').style.display = 'block';
    document.getElementById('email-cancel').style.display = 'block';
} else {
    document.getElementById('no-email-confirmation').style.display = 'block';
    document.getElementById('no-email-steps').style.display = 'block';
}
</script>

<style>
.next-steps {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 5px;
    margin: 2rem 0;
    text-align: left;
}

.next-steps h3 {
    margin-top: 0;
    color: #333;
}

.next-steps p {
    margin: 0.5rem 0;
}
</style>
{% endblock %}